<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>task_3</title>
</head>

<body>
	<h1>Задача №3</h1>

	<p>
		3.Морський бій. Випадковим чином на двовимірному полі розміром 6*6 розташовується 5 кораблів. <br>
		Користувач стріляє вказуючи координати. Гра продовжується поки не потоплено усі кораблі <br>
		або у користувача не закінчаться снаряди.
	</p>

	<h2>Розв`язок:</h2>

	<script>

		function getRandomNumer(max) {
			return Math.floor(Math.random() * max)
		}

		function shipLocationField(shipNumber, fieldSize) {
			let playingField = new Array(fieldSize)
				.fill(0)
				.map(() => new Array(fieldSize).fill(0))
			for (let i = 0; i < shipNumber; i++) {
				let row = getRandomNumer(fieldSize)
				let col = getRandomNumer(fieldSize)
				if (playingField[row][col] === 1) i--
				else playingField[row][col] = 1
			}
			return playingField
		}

		const shipNumber = 5
		let playingField = shipLocationField(shipNumber, 6)
		console.log(playingField)

		function battleship(playingField, shipNumber, shotsNum) {
			let result
			do {
				let row = parseInt(prompt('Введіть координати пострілу вісь Y', '0'))
				let col = parseInt(prompt('Введіть координати пострілу вісь X', '0'))
				shotsNum--
				if (playingField[row - 1][col - 1] === 1) {
					shipNumber--
					alert(`Влучання!!! Залишилось ${shipNumber} кораблів та ${shotsNum} пострілів`)
					playingField[row - 1][col - 1]
				} else
					alert(`Не влучив!!! Залишилось ${shipNumber} кораблів та ${shotsNum} пострілів`)
			} while (shipNumber > 0 && shotsNum > 0)
			shipNumber > 0 ? (result = 'Гравець програв') : (result = 'Гравець виграв')
			return result
		}

		let shotsNum = parseInt(prompt('Введіть кількість пострілів', '0'))

		const battleships = battleship(playingField, shipNumber, shotsNum)

		alert(battleship(playingField, shipNumber, shotsNum))

	</script>
</body>

</html>